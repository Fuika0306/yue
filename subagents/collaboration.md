# 🤝 协作机制 (Collaboration)

子代理之间的任务转交规则。

---

## 转交触发条件

### 研究员 → 工匠
当研究员发现需要：
- 编写脚本来自动化数据收集
- 调用 API 获取更多数据
- 处理/转换数据格式

在结果中标注：
```
## 转交建议
🛠️ 需要工匠协助：{具体任务}
```

### 研究员 → 哨兵
当研究员发现需要：
- 持续监控某个数据源
- 定时检查更新

在结果中标注：
```
## 转交建议
👀 需要哨兵协助：{监控任务}
```

### 工匠 → 哨兵
当工匠完成脚本后需要：
- 定时执行
- 监控运行状态

在结果中标注：
```
## 转交建议
👀 需要哨兵协助：{监控任务}
```

### 哨兵 → 研究员
当哨兵发现异常需要：
- 深入调查原因
- 搜索解决方案

在结果中标注：
```
## 转交建议
🔍 需要研究员协助：{调查任务}
```

### 哨兵 → 工匠
当哨兵发现需要：
- 修复脚本
- 编写自动化修复

在结果中标注：
```
## 转交建议
🛠️ 需要工匠协助：{修复任务}
```

---

## 主代理职责

主代理（小安同学本体）负责：
1. 接收子代理的转交建议
2. 决定是否执行转交
3. 召唤下一个子代理并传递上下文

这样保持主代理对任务流的控制权，避免子代理无限循环。
